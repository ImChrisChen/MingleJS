/** * Created by WebStorm. * User: MacBook * Date: 2020/10/15 * Time: 下午5:24 */import { IComponentProps } from '@interface/common/component';import React from 'react';import { Cascader } from 'antd';import selectJson from '@root/mock/form/select.json';import { arraylastItem } from '@utils/util';import { formatList2Tree } from '@utils/format-data';export default class FormCascader extends React.Component<IComponentProps, any> {    state = {        options: [],    };    constructor(props) {        super(props);        this.getData().then(options => {            this.setState({ options });        });    }    async getData() {        let { key, value, groupby } = this.props.dataset;        let keyMap = {            id  : 'game_name',            name: 'game_name',            pid : 'original_name',        };        return formatList2Tree(selectJson, keyMap);    }    handleChange(e: Array<string>, v) {        let lastItem = arraylastItem(e);        // trigger(this.props.el, lastItem);    }    render() {        return <>            <Cascader                style={ { minWidth: 100 } }                options={ this.state.options }                { ...this.props.dataset }                onChange={ this.handleChange.bind(this) }                displayRender={ (label, selectedOptions) => {                    console.log(label, selectedOptions);                    return label.join('/');                    // return label;                } }                dropdownRender={ (menus) => {                    return <> { menus } </>;                } }            />        </>;    }}