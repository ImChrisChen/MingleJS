/** * Created by WebStorm. * User: MacBook * Date: 2020/10/15 * Time: 下午5:24 */import { IComponentProps } from "@interface/common/component";import React from "react";import { Cascader } from "antd";import selectJson from '@root/mock/form/select.json';import { formatList2Tree } from "@utils/format-value";import { arraylastItem } from "@utils/util";import { trigger } from "@utils/trigger";export default class FormCascader extends React.Component<IComponentProps, any> {    state = {        options: [],    }    constructor(props) {        super(props);        this.getData().then(options => {            this.setState({ options })        })    }    async getData() {        let keyMap = {            id  : 'game_name',            name: 'game_name',            pid : 'original_name',        }        return formatList2Tree(selectJson, keyMap)    }    handleChange(e: Array<string>, v) {        let lastItem = arraylastItem(e);        trigger(this.props.el, lastItem)    }    render() {        console.log(this.props);        return <>            <Cascader                options={ this.state.options }                { ...this.props.dataset }                onChange={ this.handleChange.bind(this) }                displayRender={ (label, selectedOptions) => {                    console.log(label, selectedOptions);                    // return arraylastItem(label)                    return label.join('/');                } }                dropdownRender={ (menus) => {                    console.log(menus);                    return <>                        { menus }                        <h1>123</h1>                    </>                } }            />        </>;    }}