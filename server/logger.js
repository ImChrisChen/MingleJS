/** * Created by WebStorm. * User: MacBook * Date: 2021/1/29 * Time: 12:05 下午 */const winston = require('winston');const path = require('path');const moment = require('moment');const logger = winston.createLogger({    level: 'info',    format: winston.format.json(),    defaultMeta: {        service: 'user-service',        time: moment().format('YYYY-MM-DD HH:mm:ss'),    },    transports: [        // 错误日志        new winston.transports.File({            dirname: path.resolve(__dirname, './logs'),            filename: 'error.log',            colorize: true,        }),                // 请求日志        new winston.transports.File({            dirname: path.resolve(__dirname, './logs'),            filename: 'http.log',            colorize: true,        }),                // 性能日志        new winston.transports.File({            dirname: path.resolve(__dirname, './logs'),            filename: 'performance.log',            colorize: true,        }),                // new winston.transports.File({        //     dirname: path.resolve(__dirname, './logs'),        //     filename: 'combined.log',        // }),    ],});if (process.env.NODE_ENV !== 'production') {    logger.add(new winston.transports.Console({        format: winston.format.simple(),    }));}module.exports = logger;// logger.log('error', 'hello', { message: 'world' });